/* Shield UI 1.7.37 Trial Version | Copyright 2013-2018 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){var e,f,g=b.ui.Widget,h=(a.extend,b.is),i=h.undefined,j="change";e={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},f=g.extend({init:function(a,b){var c=this;g.fn.init.apply(c,arguments),c._enabled=c.options.enabled,c._renderRating(a,b,!1)},_setSelection:function(a){var b=this;if(b._enabled)return b._value=a,b._markPreset&&(b._markPreset=!1),b._range.find(".sui-rating-hover").hide(),b._range.find(".sui-rating-selected").width(a*b._symbolWidth-b._min*b._symbolWidth).show(),b.trigger(j),!0},_calcRawScore:function(b,c){var d=this,e=c.changedTouches?c.changedTouches[0].pageX:c.pageX,f=e-a(b).offset().left;return d._ltr||(f=d._range.width()-f),f>d._range.width()&&(f=d._range.width()),f<0&&(f=0),Math.ceil(f/d._symbolWidth*(1/d._step))},_setHover:function(a){var b,c,d=this;d._enabled&&(b=a*d._symbolWidth*d._step,c=d._range.find(".sui-rating-hover"),c.width()!=b&&(d._range.find(".sui-rating-selected").hide(),c.width(b).show()))},_touchHandler:function(a){var b=a.originalEvent.changedTouches,d=b[0],e="";switch(a.type){case"touchmove":e="mousemove";break;case"touchend":e="mouseup";break;default:return}var f=document.createEvent("MouseEvent");f.initMouseEvent(e,!0,!0,c,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(f),a.preventDefault()},_renderRating:function(a,b,c){var d=this,f=1;if(d._item=d.element,d._item.hasClass("sui-rating")||d._item.addClass("sui-rating"),d._ltr=!d.element.parent().hasClass("sui-rtl"),c){var g=null;i(d._value)?(g=isNaN(b.value)?e.value:b.value,d._value=g):g=d._value,d._enabled&&(d._wired=!1)}if(!d._initialized){d._min=isNaN(b.min)?e.min:b.min,d._max=isNaN(b.max)?e.max:b.max,d._step=isNaN(b.step)?e.step:b.step,d._symbolWidth=isNaN(b.symbolWidth)?e.symbolWidth:b.symbolWidth,d._symbolHeight=isNaN(b.symbolHeight)?e.symbolHeight:b.symbolHeight,d._value=isNaN(b.value)?e.value:b.value,d._markPreset=isNaN(b.markPreset)?e.markPreset:b.markPreset,a="DIV"==d._item[0].nodeName?"div":"span",f++;var h='<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+d._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+d._symbolHeight+'px"></{{element}}></{{element}}>',j=h.replace(/{{index}}/gi,f).replace(/{{element}}/gi,a);this.element.append(j),d._initialized=!0}d._item.find(".sui-rating-selected, .sui-rating-hover").height(d._symbolHeight),d._range=d._item.find(".sui-rating-range"),d._range.width(d._symbolWidth*(d._max-d._min)).height(d._symbolHeight);var k="sui-rating-preset"+(d._ltr?"":"-rtl");if(d._markPreset?d._item.find(".sui-rating-selected").addClass(k):d._item.find(".sui-rating-selected").removeClass(k),null!=d._value){var l=(d._value-d._min)*d._symbolWidth;d._item.find(".sui-rating-selected").width(l)}d._wired||(d._enabled&&(c||(d._range.on("touchmove touchend",d._touchHandler),d._range.mousemove(function(a){var b=d._calcRawScore(this,a);d._setHover(b)}),d._range.mouseleave(function(a){d._range.find(".sui-rating-hover").hide().width(0),d._item.trigger("hover",[null]).trigger("over",[null]),d._range.find(".sui-rating-selected").show()}),d._range.mouseup(function(a){var b=d._calcRawScore(this,a),c=b*d._step+d._min;d._setSelection(c),d._range.blur()}),d._range.keyup(function(a){38!=a.which&&a.which!=(d._ltr?39:37)||d._setSelection(Math.min(d._value+d._step,d._max)),40!=a.which&&a.which!=(d._ltr?37:39)||d._setSelection(Math.max(d._value-d._step,d._min))}))),d._wired=!0)},value:function(){var a=this,b=a.options,c=[].slice.call(arguments);if(!(c.length>0))return i(a._value)?i(b.value)?a._value:b.value:a._value;var d=c[0];d<a._min||d>a._max||(a.options.value=d,a._value=d,a._renderRating(a,b,!0))},enabled:function(){var a=this,b=a.options,c=a.element,d=[].slice.call(arguments);return d.length>0?(a._enabled=d[0],a._renderRating(a,b,!0),a._enabled?c.removeClass("sui-rating-disabled"):c.addClass("sui-rating-disabled"),void 0):a._enabled},destroy:function(){var b=this;a(b.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),b._range.off("touchmove touchend",b._touchHandler),b._markPreset=b._enabled=b._min=b._max=b._value=b._ltr=b._item=b._symbolWidth=b._symbolHeight=b._step=b._wired=b._initialized=b._range=null,g.fn.destroy.call(b)}}),f.defaults=e,b.ui.plugin("Rating",f)}(jQuery,shield,this);