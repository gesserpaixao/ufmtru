/* Shield UI 1.7.37 Trial Version | Copyright 2013-2018 Shield UI Ltd. | http://www.shieldui.com/eula */
!function(a,b,c,d){function e(a){return o(a)&&!p(a)&&"undefined"!==a}var f,g,h=b.ui.Widget,i=(b.Class,b.DataSource),j=(Math.min,Math.max,a.proxy),k=a.each,l=a.map,m=b.error,n=b.format,o=b.is.defined,p=b.is["null"],q=b.to["int"],r="change",s="click";f={cls:d,width:d,height:d,dataSource:d,readDataSource:!0,title:d,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},g=h.extend({init:function(){h.fn.init.apply(this,arguments);var b,c=this,d=a(c.element),e=c.options,f=e.title,g=e.dieOnError,k=e.dataSource,l=e.cls;return"div"!==d.prop("tagName").toLowerCase()?void m("shieldTagCloud: Underlying element is not DIV.",g):(b=c._eventNS=".shieldTagCloud"+c.getInstanceId(),d.empty(),f&&d.append('<div class="sui-tagcloud-title">'+f+"</div>"),c._contentEl=a('<div class="sui-tagcloud-content">').appendTo(d),d.addClass("sui-tagcloud"+(l?" "+l:"")),o(e.width)&&d.css("width",e.width),o(e.height)&&d.css("height",e.height),k?(c.dataSource=i.create(k),c.dataSource.on(r+b,j(c._dsChange,c)),void(e.readDataSource&&c.dataSource.read())):(c.destroy(),void m("shieldTagCloud: No dataSource or underlying UL element found.",g)))},_dsChange:function(){this._render()},_render:function(){var a=this,b=a._contentEl,c=a.dataSource.view||[],d=a._getMinMax(c);b.empty().append(l(c,function(b){return a._createItem(b,d[0],d[1])}))},_createItem:function(b,c,d){var f,g,h,i,k,l=this,m=l.options,o=m.minSize,p=m.maxSize,r=a('<div class="sui-tagcloud-item" />'),t=n(m.textTemplate,b);return e(t)&&(f=n(m.hrefTemplate,b),e(f)?(i=a('<a href="'+f+'" class="sui-tagcloud-link">'+t+"</a>").appendTo(r),k=n(m.targetTemplate,b),e(k)&&i.attr("target",k)):r.html(t)),h=q(n(m.frequencyTemplate,b)),g=d>c?(h-c)*(p-o)/(d-c)+o:100,r.css("font-size",g+"%").on(s,j(l._itemClick,l,b)),r},_itemClick:function(a,b){var c=this,d=c.trigger(s,{item:a});d.isDefaultPrevented()&&b&&b.preventDefault()},_getMinMax:function(a){var b,c=this,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;return k(a||[],function(a,f){b=q(n(c.options.frequencyTemplate,f)),(!o(e)||b>e)&&(e=b),(!o(d)||b<d)&&(d=b)}),[d,e]},destroy:function(){var a=this,b=a.element,c=a.options,d=c.cls;a.dataSource&&a.dataSource.off(r+a._eventNS),b.removeClass("sui-tagcloud"+(d?" "+d:"")).empty(),h.fn.destroy.call(a)}}),g.defaults=f,b.ui.plugin("TagCloud",g)}(jQuery,shield,this);